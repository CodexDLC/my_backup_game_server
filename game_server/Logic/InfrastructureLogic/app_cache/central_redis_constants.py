# game_server/Logic/InfrastructureLogic/app_cache/central_redis_constants.py

# --- –ü—Ä–µ—Ñ–∏–∫—Å—ã –∫–ª—é—á–µ–π –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ Redis ---
# –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Redis –ø–æ –º–æ–¥—É–ª—è–º/—Å—É—â–Ω–æ—Å—Ç—è–º.
# –°–ª–µ–¥—É—é—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ "–∫–ª—é—á–∏-–ø–∞–ø–∫–∏, JSON-—Ñ–∞–π–ª—ã".

# –ö–ª—é—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ (–∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ª–µ–ø–æ–∫, –ø—Ä–∏–≤—è–∑–∫–∏)
KEY_PREFIX_CHARACTER_SNAPSHOT = "character"           # –ü–æ–ª–Ω—ã–π –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ª–µ–ø–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (uuid)
KEY_PREFIX_ACCOUNT_BINDINGS = "account_binding"       # –°–≤—è–∑–∫–∞ Discord/Game Account ID —Å Character ID

# –ö–ª—é—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ (—ç–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤, —à–∞–±–ª–æ–Ω—ã)
KEY_PREFIX_ITEM_INSTANCE = "item_instance"            # –≠–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (uuid)

# –ö–ª—é—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∏–≥—Ä–æ–≤—ã–º –º–∏—Ä–æ–º –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏
KEY_PREFIX_GAME_WORLD_STATE = "game_world"            # –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞/–∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
KEY_PREFIX_GLOBAL_EVENTS = "global_events"            # –û–±—â–∏–µ —Å–æ–±—ã—Ç–∏—è, –Ω–æ–≤–æ—Å—Ç–∏, –æ–ø–æ–≤–µ—â–µ–Ω–∏—è

# –ö–ª—é—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∑–∞–¥–∞—á–∞–º–∏ –∏ –æ—á–µ—Ä–µ–¥—è–º–∏ (–¥–ª—è Celery, —Ç–∏–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —Å—Ç–∞—Ç—É—Å–æ–≤)
KEY_PREFIX_TASK_QUEUE = "task_queue"                  # –û—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Celery –∏–ª–∏ —Ç–∏–∫–∞)
KEY_PREFIX_TASK_STATUS = "task_status"                # –°—Ç–∞—Ç—É—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
KEY_PREFIX_TICK_TASKS = "tick_tasks"                  # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –¥–ª—è —Ç–∏–∫–æ–≤—ã—Ö –∑–∞–¥–∞—á

# üî• –ò–ó–ú–ï–ù–ï–ù–û: –û–±—â–∏–π –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ø—Ä–∞–≤–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ üî•
GENERATOR_DATA_PREFIX = "generator_data"      # –ù–æ–≤—ã–π —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å

# üî• –£–î–ê–õ–ï–ù–û: –≠—Ç–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞, —Ç.–∫. –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GENERATOR_DATA_PREFIX üî•
# KEY_PREFIX_STATIC_REF_DATA = "static_ref_data"      # –®–∞–±–ª–æ–Ω—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, —Å–∫–∏–ª–ª–æ–≤ –∏ —Ç.–¥.

# –ö–ª—é—á–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º
KEY_PREFIX_LEADERBOARDS = "leaderboard"               # –¢–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤
KEY_PREFIX_SESSION_TOKENS = "session_token"           # –¢–æ–∫–µ–Ω—ã —Å–µ—Å—Å–∏–π REST API (–¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)


# --- TTL –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ Redis (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) ---
# –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ game_server/config/settings.py
# (—Ç—É–¥–∞ –∏—Ö –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –∏—Ö —Ç–∞–º –µ—â–µ –Ω–µ—Ç, –∏ –æ–Ω–∏ –±—É–¥—É—Ç –±—Ä–∞—Ç—å—Å—è –∏–∑ ENV)
DEFAULT_TTL_CHARACTER_SNAPSHOT_ONLINE = 3600 * 24     # 24 —á–∞—Å–∞ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
DEFAULT_TTL_CHARACTER_SNAPSHOT_OFFLINE = 3600 * 1.5   # 1.5 —á–∞—Å–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ—Ñ—Ñ–ª–∞–π–Ω (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞)
DEFAULT_TTL_ITEM_INSTANCE_CACHE = 3600                # 1 —á–∞—Å –¥–ª—è –∫—ç—à–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–µ—Å–ª–∏ –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã –≤ –ë–î)
DEFAULT_TTL_SESSION_TOKEN = 3600 * 8                  # 8 —á–∞—Å–æ–≤ –¥–ª—è —Å–µ—Å—Å–∏–æ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
DEFAULT_TTL_ACCOUNT_BINDING = 0                       # 0 = –±–µ—Å—Å—Ä–æ—á–Ω–æ, –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã—Ö —Å–≤—è–∑–æ–∫ Discord ID —Å Character ID
DEFAULT_TTL_GLOBAL_CACHE = 300                        # 5 –º–∏–Ω—É—Ç –¥–ª—è –æ–±—â–µ–≥–æ –∫—ç—à–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–≤–æ—Å—Ç–∏, –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –º–µ–Ω—è—é—Ç—Å—è)
DEFAULT_TTL_STATIC_REF_DATA = 3600 * 24 * 30          # üî• –ò–ó–ú–ï–ù–ï–ù–û: 30 –¥–Ω–µ–π –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ø—Ä–∞–≤–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö üî•
DEFAULT_TTL_TASK_STATUS = 3600 * 24 * 7               # 7 –¥–Ω–µ–π –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ (–ø—Ä–∏–º–µ—Ä)
DEFAULT_TTL_TASK_QUEUE_ITEM = 3600 * 24               # 24 —á–∞—Å–∞ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –æ—á–µ—Ä–µ–¥–∏ (–µ—Å–ª–∏ –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –±—ã—Å—Ç—Ä–µ–µ)


# --- –ö–∞–Ω–∞–ª—ã Pub/Sub –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ Redis (–µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è Celery/RabbitMQ) ---
# –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ Backend'–∞ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
PUB_SUB_CHANNEL_CHARACTER_UPDATE = "character_updates"       # –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–¥–ª—è WebSocket –ø—É—à–∞)
PUB_SUB_CHANNEL_GAME_WORLD_EVENT = "game_world_events"       # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –≤ –∏–≥—Ä–æ–≤–æ–º –º–∏—Ä–µ
PUB_SUB_CHANNEL_GLOBAL_MESSAGE = "global_messages"           # –û–±—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
PUB_SUB_CHANNEL_TASK_COMPLETED = "task_completed"            # –°–∏–≥–Ω–∞–ª –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
PUB_SUB_CHANNEL_TICK_ADVANCE = "tick_advance"                # –°–∏–≥–Ω–∞–ª –æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–∏ –∏–≥—Ä–æ–≤–æ–≥–æ —Ç–∏–∫–∞


# ======================================================================
# --- –ö–û–ù–°–¢–ê–ù–¢–´ –î–õ–Ø –ì–ï–ù–ï–†–ê–¢–û–†–ê –ü–†–ï–î–ú–ï–¢–û–í (–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ generator_settings.py) ---
# ======================================================================

# --- –ü—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º ---
# –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å YAML-—Ñ–∞–π–ª–∞–º–∏, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–º–∏ –±–∞–∑–æ–≤—ã–µ –∞—Ä—Ö–µ—Ç–∏–ø—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤.
ITEM_BASE_YAML_PATH: str = "game_server/Logic/ApplicationLogic/coordinator_generator/data/item_base"

# üî• –ò–ó–ú–ï–ù–ï–ù–û/–ù–û–í–û–ï: –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ Redis –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ (–ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π) üî•
REDIS_KEY_GENERATOR_ITEM_BASE: str = f"{GENERATOR_DATA_PREFIX}:item_base" # item_data:base –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è
REDIS_KEY_GENERATOR_MATERIALS: str = f"{GENERATOR_DATA_PREFIX}:materials" # item_data:materials –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è
REDIS_KEY_GENERATOR_SUFFIXES: str = f"{GENERATOR_DATA_PREFIX}:suffixes" # item_data:suffixes –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è
REDIS_KEY_GENERATOR_MODIFIERS: str = f"{GENERATOR_DATA_PREFIX}:modifiers" # item_data:modifiers –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è

REDIS_KEY_GENERATOR_SKILLS: str = f"{GENERATOR_DATA_PREFIX}:skills" # static_ref_data:skills –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è
REDIS_KEY_GENERATOR_BACKGROUND_STORIES: str = f"{GENERATOR_DATA_PREFIX}:background_stories" # static_ref_data:background_stories –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è
REDIS_KEY_GENERATOR_PERSONALITIES: str = f"{GENERATOR_DATA_PREFIX}:personalities" # static_ref_data:personalities –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è
REDIS_KEY_GENERATOR_INVENTORY_RULES: str = f"{GENERATOR_DATA_PREFIX}:inventory_rules" # static_ref_data:inventory_rules –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è

# üî• –£–î–ê–õ–ï–ù–û: –°—Ç–∞—Ä—ã–µ REDIS_KEY_ITEM_DATA_* –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è,
#             —Ç.–∫. –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—ã–π GENERATOR_DATA_PREFIX
# REDIS_KEY_ITEM_DATA_BASE: str = "item_data:base"
# REDIS_KEY_ITEM_DATA_MATERIALS: str = "item_data:materials"
# REDIS_KEY_ITEM_DATA_SUFFIXES: str = "item_data:suffixes"
# REDIS_KEY_ITEM_DATA_MODIFIERS: str = "item_data:modifiers"


# –ò–º—è –æ—á–µ—Ä–µ–¥–∏ Celery –¥–ª—è –∑–∞–¥–∞—á –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.
ITEM_GENERATION_WORKER_QUEUE_NAME: str = "item_generation_worker_queue"
# –®–∞–±–ª–æ–Ω –∫–ª—é—á–∞ Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±–∞—Ç—á–µ–π –∑–∞–¥–∞—á –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.
ITEM_GENERATION_REDIS_TASK_KEY_TEMPLATE: str = "generation_task:item:{batch_id}"
# –ö–ª—é—á Redis –¥–ª—è –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–≤–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞).
REDIS_KEY_ITEM_DATA_GENERATION_TASKS: str = "item_data:generation_tasks"


# ======================================================================
# --- –ù–ê–°–¢–†–û–ô–ö–ò CELERY/RABBITMQ –ò REDIS TTL ---
# ======================================================================

# –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –æ—á–µ—Ä–µ–¥–∏ RabbitMQ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö).
# –ï—Å–ª–∏ –≤–æ—Ä–∫–µ—Ä –Ω–µ –∑–∞–±–µ—Ä–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è, RabbitMQ —É–¥–∞–ª–∏—Ç –µ–≥–æ.
# CELERY_MESSAGE_EXPIRES_SECONDS: int = 7200 # 2 —á–∞—Å–∞ (3600 * 2) - –≠—Ç—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –º—ã –ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º.

# –ù–û–í–ê–Ø –ö–û–ù–°–¢–ê–ù–¢–ê: –ù–∞—á–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–ª—é—á–∞ –∑–∞–¥–∞—á–∏ –≤ Redis (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö).
# –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏. –ó–∞–¥–∞—á–∏, –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è, —É–¥–∞–ª—è—Ç—Å—è.
REDIS_TASK_INITIAL_TTL_SECONDS: int = 10800 # 3 —á–∞—Å–∞ (3600 * 3)

REDIS_COORDINATOR_TASK_HASH = "coordinator:tasks"
REDIS_TASK_QUEUE_EXPLORATION = "exploration"
REDIS_TASK_QUEUE_TRAINING = "training" 
REDIS_TASK_QUEUE_CRAFTING = "crafting"