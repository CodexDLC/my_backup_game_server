# --- МЕТАДАННЫЕ ФАЙЛА ---
version: "1.0"
schema: "inventory_rule_generator"
metadata:
  author: "GameDesigner"
  description: "Начальный набор правил для генерации инвентаря и лута с мобов."

# --- ДАННЫЕ ---
data:
  # Ключ "starter_kit_warrior_common" теперь является уникальным именем правила
  starter_kit_warrior_common:
    description: "Базовый стартовый набор для Воина любой расы."
    quality_level: 1
    weight: 100
    activation_conditions:
      role_tag: "WARRIOR"
      context: "STARTER_KIT"
    generation_rules:
      currency:
        - type: "money"
      items:
        - group_name: "Основное оружие"
          count: 1
          selection_criteria:
            category_tag: "WEAPON"
            subcategory_tag: "SWORD"
            quality_tags: ["rusty", "common"]

  starter_kit_warrior_human_uncommon:
    description: "Улучшенный стартовый набор для Воина расы Человек."
    quality_level: 2
    weight: 100
    activation_conditions:
      role_tag: "WARRIOR"
      race_tag: "HUMAN"
      context: "STARTER_KIT"
    generation_rules:
      currency:
        - type: "money"
      items:
        - group_name: "Стандартное оружие"
          count: 1
          selection_criteria:
            category_tag: "WEAPON"
            subcategory_tag: "SWORD"
            quality_tags: ["standard"]

  loot_goblin_shaman_rare:
    description: "Редкая добыча с шамана гоблинов."
    quality_level: 3
    weight: 25
    activation_conditions:
      mob_type: "GOBLIN"
      mob_class: "SHAMAN"
      context: "MOB_LOOT"
    generation_rules:
      currency:
        - type: "money"
          chance: 0.8
      items:
        - group_name: "Магические компоненты"
          count: { min: 1, max: 3 }
          selection_criteria:
            category_tag: "REAGENT"
            subcategory_tag: "magic_dust"
        - group_name: "Шанс на посох"
          count: 1
          chance: 0.15
          selection_criteria:
            category_tag: "WEAPON"
            subcategory_tag: "STAFF"
            quality_tags: ["shamanistic", "rare"]